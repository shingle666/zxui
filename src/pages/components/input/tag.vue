<template>
  <div class="demo-container">
    <h1>ZxInputTag æ ‡ç­¾è¾“å…¥æ¡†æ¼”ç¤º</h1>

    <!-- åŸºç¡€ç”¨æ³• -->
    <section class="demo-section">
      <h2>åŸºç¡€ç”¨æ³•</h2>
      <p>æŒ‰ Enter é”®æ·»åŠ æ ‡ç­¾</p>
      <zx-input-tag 
        v-model="basicTags" 
        placeholder="è¯·è¾“å…¥å†…å®¹ï¼ŒæŒ‰å›è½¦æ·»åŠ æ ‡ç­¾"
      />
      <p>å½“å‰æ ‡ç­¾ï¼š{{ basicTags }}</p>
    </section>

    <!-- è‡ªå®šä¹‰è§¦å‘å™¨ -->
    <section class="demo-section">
      <h2>è‡ªå®šä¹‰è§¦å‘å™¨</h2>
      <div class="controls">
        <label>
          <input 
            type="radio" 
            v-model="triggerKey" 
            value="Enter"
          /> Enter é”®
        </label>
        <label>
          <input 
            type="radio" 
            v-model="triggerKey" 
            value="Space"
          /> Space é”®
        </label>
        <label>
          <input 
            type="radio" 
            v-model="triggerKey" 
            value="Tab"
          /> Tab é”®
        </label>
      </div>
      <zx-input-tag 
        v-model="triggerTags" 
        :trigger="triggerKey"
        placeholder="è¯·é€‰æ‹©è§¦å‘é”®"
      />
    </section>

    <!-- æœ€å¤§æ ‡ç­¾æ•° -->
    <section class="demo-section">
      <h2>æœ€å¤§æ ‡ç­¾æ•°é™åˆ¶</h2>
      <p>æœ€å¤šå…è®¸ 3 ä¸ªæ ‡ç­¾</p>
      <zx-input-tag 
        v-model="maxTags" 
        :max="3"
        placeholder="æœ€å¤šæ·»åŠ  3 ä¸ªæ ‡ç­¾"
      />
    </section>

    <!-- å°ºå¯¸ -->
    <section class="demo-section">
      <h2>ä¸åŒå°ºå¯¸</h2>
      <div class="size-demo">
        <h3>å¤§å·</h3>
        <zx-input-tag 
          v-model="sizeTags" 
          size="large"
          placeholder="å¤§å·è¾“å…¥æ¡†"
        />
        
        <h3>é»˜è®¤</h3>
        <zx-input-tag 
          v-model="sizeTags" 
          size="default"
          placeholder="é»˜è®¤è¾“å…¥æ¡†"
        />
        
        <h3>å°å·</h3>
        <zx-input-tag 
          v-model="sizeTags" 
          size="small"
          placeholder="å°å·è¾“å…¥æ¡†"
        />
      </div>
    </section>

    <!-- æ ‡ç­¾ç±»å‹å’Œæ•ˆæœ -->
    <section class="demo-section">
      <h2>æ ‡ç­¾ç±»å‹å’Œæ•ˆæœ</h2>
      <div class="controls">
        <label>ç±»å‹ï¼š</label>
        <select v-model="selectedType">
          <option value="primary">Primary</option>
          <option value="success">Success</option>
          <option value="info">Info</option>
          <option value="warning">Warning</option>
          <option value="danger">Danger</option>
        </select>
        
        <label>æ•ˆæœï¼š</label>
        <select v-model="selectedEffect">
          <option value="light">Light</option>
          <option value="dark">Dark</option>
          <option value="plain">Plain</option>
        </select>
      </div>
      <zx-input-tag 
        v-model="typeTags" 
        :tag-type="selectedType"
        :tag-effect="selectedEffect"
        placeholder="è¾“å…¥æ ‡ç­¾æŸ¥çœ‹æ•ˆæœ"
      />
    </section>

    <!-- å¯æ‹–æ‹½ -->
    <section class="demo-section">
      <h2>å¯æ‹–æ‹½æ’åº</h2>
      <p>æ‹–æ‹½æ ‡ç­¾å¯ä»¥é‡æ–°æ’åº</p>
      <zx-input-tag 
        v-model="draggableTags" 
        draggable
        placeholder="æ‹–æ‹½æ ‡ç­¾è¿›è¡Œæ’åº"
      />
    </section>

    <!-- åˆ†éš”ç¬¦ -->
    <section class="demo-section">
      <h2>åˆ†éš”ç¬¦æ”¯æŒ</h2>
      <p>ä½¿ç”¨é€—å·ä½œä¸ºåˆ†éš”ç¬¦è‡ªåŠ¨åˆ›å»ºæ ‡ç­¾</p>
      <zx-input-tag 
        v-model="delimiterTags" 
        delimiter=","
        placeholder="å°è¯•ç”¨é€—å·åˆ†éš”è¾“å…¥ï¼šæ ‡ç­¾1,æ ‡ç­¾2,æ ‡ç­¾3"
      />
    </section>

    <!-- å¯æ¸…ç©º -->
    <section class="demo-section">
      <h2>å¯æ¸…ç©º</h2>
      <zx-input-tag 
        v-model="clearableTags" 
        clearable
        placeholder="å¸¦æ¸…ç©ºæŒ‰é’®çš„è¾“å…¥æ¡†"
      />
    </section>

    <!-- ç¦ç”¨çŠ¶æ€ -->
    <section class="demo-section">
      <h2>ç¦ç”¨çŠ¶æ€</h2>
      <zx-input-tag 
        v-model="disabledTags" 
        disabled
        placeholder="ç¦ç”¨çŠ¶æ€"
      />
    </section>

    <!-- åªè¯»çŠ¶æ€ -->
    <section class="demo-section">
      <h2>åªè¯»çŠ¶æ€</h2>
      <zx-input-tag 
        v-model="readonlyTags" 
        readonly
        placeholder="åªè¯»çŠ¶æ€"
      />
    </section>

    <!-- è‡ªå®šä¹‰æ ‡ç­¾å†…å®¹ -->
    <section class="demo-section">
      <h2>è‡ªå®šä¹‰æ ‡ç­¾å†…å®¹</h2>
      <zx-input-tag 
        v-model="customTags" 
        tag-type="primary"
        tag-effect="plain"
        placeholder="è‡ªå®šä¹‰æ ‡ç­¾å†…å®¹"
      >
        <template #tag="{ value, index }">
          <span style="color: #f56c6c;">ğŸ·ï¸</span>
          <span>{{ value }}</span>
          <span style="color: #909399; margin-left: 4px;">({{ index + 1 }})</span>
        </template>
      </zx-input-tag>
    </section>

    <!-- å‰ç¼€å’Œåç¼€ -->
    <section class="demo-section">
      <h2>å‰ç¼€å’Œåç¼€</h2>
      <zx-input-tag 
        v-model="affixTags" 
        clearable
        placeholder="å¸¦å‰ç¼€å’Œåç¼€çš„è¾“å…¥æ¡†"
      >
        <template #prefix>
          <span style="color: #409eff;">ğŸ”</span>
        </template>
        <template #suffix>
          <span style="color: #67c23a;">âœ¨</span>
        </template>
      </zx-input-tag>
    </section>

    <!-- äº‹ä»¶ç›‘å¬ -->
    <section class="demo-section">
      <h2>äº‹ä»¶ç›‘å¬</h2>
      <zx-input-tag 
        v-model="eventTags" 
        @add-tag="onAddTag"
        @remove-tag="onRemoveTag"
        @change="onChange"
        @focus="onFocus"
        @blur="onBlur"
        @clear="onClear"
        placeholder="æŸ¥çœ‹æ§åˆ¶å°è¾“å‡ºäº‹ä»¶ä¿¡æ¯"
      />
      <div class="event-log">
        <h3>äº‹ä»¶æ—¥å¿—ï¼š</h3>
        <div v-for="(log, index) in eventLogs" :key="index" class="log-item">
          {{ log }}
        </div>
      </div>
    </section>
  </div>
</template>

<script>
import ZxInputTag from './zx-input-tag.vue'

export default {
  name: 'ZxInputTagDemo',
  components: {
    ZxInputTag
  },
  data() {
    return {
      // åŸºç¡€ç”¨æ³•
      basicTags: ['Vue', 'JavaScript'],
      
      // è§¦å‘å™¨
      triggerKey: 'Enter',
      triggerTags: [],
      
      // æœ€å¤§æ ‡ç­¾æ•°
      maxTags: ['æ ‡ç­¾1', 'æ ‡ç­¾2'],
      
      // å°ºå¯¸
      sizeTags: ['æ ‡ç­¾'],
      
      // ç±»å‹å’Œæ•ˆæœ
      selectedType: 'primary',
      selectedEffect: 'light',
      typeTags: ['ç¤ºä¾‹æ ‡ç­¾'],
      
      // æ‹–æ‹½
      draggableTags: ['å¯æ‹–æ‹½1', 'å¯æ‹–æ‹½2', 'å¯æ‹–æ‹½3'],
      
      // åˆ†éš”ç¬¦
      delimiterTags: [],
      
      // å¯æ¸…ç©º
      clearableTags: ['æ¸…ç©ºæµ‹è¯•1', 'æ¸…ç©ºæµ‹è¯•2'],
      
      // ç¦ç”¨
      disabledTags: ['ç¦ç”¨æ ‡ç­¾1', 'ç¦ç”¨æ ‡ç­¾2'],
      
      // åªè¯»
      readonlyTags: ['åªè¯»æ ‡ç­¾1', 'åªè¯»æ ‡ç­¾2'],
      
      // è‡ªå®šä¹‰
      customTags: ['è‡ªå®šä¹‰1', 'è‡ªå®šä¹‰2'],
      
      // å‰ç¼€åç¼€
      affixTags: [],
      
      // äº‹ä»¶
      eventTags: [],
      eventLogs: []
    }
  },
  methods: {
    onAddTag(tag) {
      this.addEventLog(`æ·»åŠ æ ‡ç­¾: ${tag}`)
    },
    onRemoveTag(tag) {
      this.addEventLog(`ç§»é™¤æ ‡ç­¾: ${tag}`)
    },
    onChange(tags) {
      this.addEventLog(`æ ‡ç­¾å˜åŒ–: [${tags.join(', ')}]`)
    },
    onFocus() {
      this.addEventLog('è·å¾—ç„¦ç‚¹')
    },
    onBlur() {
      this.addEventLog('å¤±å»ç„¦ç‚¹')
    },
    onClear() {
      this.addEventLog('æ¸…ç©ºæ ‡ç­¾')
    },
    addEventLog(message) {
      const time = new Date().toLocaleTimeString()
      this.eventLogs.unshift(`[${time}] ${message}`)
      if (this.eventLogs.length > 10) {
        this.eventLogs.pop()
      }
    }
  }
}
</script>

<style scoped>
.demo-container {
  max-width: 800px;
  margin: 0 auto;
  padding: 20px;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
}

h1 {
  text-align: center;
  color: #2c3e50;
  margin-bottom: 40px;
}

.demo-section {
  margin-bottom: 40px;
  padding: 20px;
  border: 1px solid #ebeef5;
  border-radius: 4px;
  background-color: #fafafa;
}

.demo-section h2 {
  margin-top: 0;
  color: #409eff;
  font-size: 18px;
}

.demo-section p {
  margin: 10px 0;
  color: #606266;
}

.controls {
  margin: 10px 0;
  display: flex;
  align-items: center;
  gap: 15px;
}

.controls label {
  display: flex;
  align-items: center;
  gap: 5px;
  cursor: pointer;
}

.controls select {
  margin-left: 5px;
  padding: 2px 5px;
  border: 1px solid #dcdfe6;
  border-radius: 3px;
}

.size-demo h3 {
  margin: 15px 0 10px 0;
  color: #606266;
  font-size: 14px;
}

.event-log {
  margin-top: 15px;
  padding: 10px;
  background-color: #f5f7fa;
  border-radius: 4px;
  max-height: 200px;
  overflow-y: auto;
}

.event-log h3 {
  margin: 0 0 10px 0;
  font-size: 14px;
  color: #606266;
}

.log-item {
  padding: 2px 0;
  font-size: 12px;
  color: #909399;
  font-family: 'Courier New', monospace;
}
</style> 