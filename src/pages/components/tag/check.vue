<template>
	<view class="demo-page">
		<view class="demo-header">
			<text class="demo-title">CheckTag å¯é€‰ä¸­æ ‡ç­¾</text>
			<text class="demo-description">å¯é€‰ä¸­çš„æ ‡ç­¾ç»„ä»¶ï¼Œç±»ä¼¼å¤é€‰æ¡†ä½†å…·æœ‰æŒ‰é’®å¼çš„æ ·å¼</text>
		</view>

		<!-- åŸºç¡€ç”¨æ³• -->
		<view class="demo-section">
			<view class="demo-section-title">åŸºç¡€ç”¨æ³•</view>
			<view class="demo-content">
				<zx-check-tag v-model:checked="basicChecked" text="å¯é€‰æ ‡ç­¾" @change="handleBasicChange" />
				<text class="demo-result">å½“å‰çŠ¶æ€ï¼š{{ basicChecked ? 'å·²é€‰ä¸­' : 'æœªé€‰ä¸­' }}</text>
			</view>
		</view>

		<!-- ä¸»é¢˜ç±»å‹ -->
		<view class="demo-section">
			<view class="demo-section-title">ä¸»é¢˜ç±»å‹</view>
			<view class="demo-content">
				<view class="demo-row">
					<zx-check-tag v-model:checked="typeChecked.primary" text="Primary" type="primary" />
					<zx-check-tag v-model:checked="typeChecked.success" text="Success" type="success" />
					<zx-check-tag v-model:checked="typeChecked.info" text="Info" type="info" />
				</view>
				<view class="demo-row">
					<zx-check-tag v-model:checked="typeChecked.warning" text="Warning" type="warning" />
					<zx-check-tag v-model:checked="typeChecked.danger" text="Danger" type="danger" />
				</view>
			</view>
		</view>

		<!-- å°ºå¯¸å¤§å° -->
		<view class="demo-section">
			<view class="demo-section-title">å°ºå¯¸å¤§å°</view>
			<view class="demo-content">
				<view class="demo-row">
					<zx-check-tag v-model:checked="sizeChecked.small" text="å°å°ºå¯¸" size="small" />
					<zx-check-tag v-model:checked="sizeChecked.default" text="é»˜è®¤å°ºå¯¸" size="default" />
					<zx-check-tag v-model:checked="sizeChecked.large" text="å¤§å°ºå¯¸" size="large" />
				</view>
			</view>
		</view>

		<!-- ç¦ç”¨çŠ¶æ€ -->
		<view class="demo-section">
			<view class="demo-section-title">ç¦ç”¨çŠ¶æ€</view>
			<view class="demo-content">
				<view class="demo-row">
					<zx-check-tag :checked="false" text="ç¦ç”¨æœªé€‰ä¸­" disabled />
					<zx-check-tag :checked="true" text="ç¦ç”¨å·²é€‰ä¸­" disabled />
				</view>
			</view>
		</view>

		<!-- è‡ªå®šä¹‰é¢œè‰² -->
		<view class="demo-section">
			<view class="demo-section-title">è‡ªå®šä¹‰é¢œè‰²</view>
			<view class="demo-content">
				<view class="demo-row">
					<zx-check-tag 
						v-model:checked="customColorChecked.red" 
						text="çº¢è‰²ä¸»é¢˜" 
						bg-color="#ff6b6b"
						color="#ffffff"
						border-color="#ff6b6b"
					/>
					<zx-check-tag 
						v-model:checked="customColorChecked.purple" 
						text="ç´«è‰²ä¸»é¢˜" 
						bg-color="#8c7ae6"
						color="#ffffff"
						border-color="#8c7ae6"
					/>
				</view>
				<view class="demo-row">
					<zx-check-tag 
						v-model:checked="customColorChecked.orange" 
						text="æ©™è‰²ä¸»é¢˜" 
						bg-color="#ffa726"
						color="#ffffff"
						border-color="#ffa726"
					/>
					<zx-check-tag 
						v-model:checked="customColorChecked.teal" 
						text="é’è‰²ä¸»é¢˜" 
						bg-color="#26a69a"
						color="#ffffff"
						border-color="#26a69a"
					/>
				</view>
			</view>
		</view>

		<!-- è‡ªå®šä¹‰å†…å®¹ -->
		<view class="demo-section">
			<view class="demo-section-title">è‡ªå®šä¹‰å†…å®¹</view>
			<view class="demo-content">
				<view class="demo-row">
					<zx-check-tag v-model:checked="customContentChecked.emoji">
						<view class="custom-content">
							<text class="emoji">ğŸ‰</text>
							<text>åº†ç¥</text>
						</view>
					</zx-check-tag>
					<zx-check-tag v-model:checked="customContentChecked.icon">
						<view class="custom-content">
							<text class="icon">â˜…</text>
							<text>æ”¶è—</text>
						</view>
					</zx-check-tag>
					<zx-check-tag v-model:checked="customContentChecked.badge">
						<view class="custom-content">
							<text>VIP</text>
							<view class="badge">NEW</view>
						</view>
					</zx-check-tag>
				</view>
			</view>
		</view>

		<!-- å¤šé€‰åœºæ™¯ -->
		<view class="demo-section">
			<view class="demo-section-title">å¤šé€‰åœºæ™¯</view>
			<view class="demo-content">
				<view class="demo-subtitle">é€‰æ‹©ä½ çš„å…´è¶£çˆ±å¥½ï¼š</view>
				<view class="demo-row wrap">
					<zx-check-tag 
						v-for="hobby in hobbies" 
						:key="hobby.id"
						v-model:checked="hobby.checked" 
						:text="hobby.name" 
						:type="hobby.type"
						size="small"
						@change="handleHobbyChange(hobby)"
					/>
				</view>
				<text class="demo-result">
					å·²é€‰æ‹©ï¼š{{ selectedHobbies.length > 0 ? selectedHobbies.join('ã€') : 'æš‚æ— é€‰æ‹©' }}
				</text>
			</view>
		</view>

		<!-- å…¨é€‰/å–æ¶ˆå…¨é€‰ -->
		<view class="demo-section">
			<view class="demo-section-title">å…¨é€‰æ“ä½œ</view>
			<view class="demo-content">
				<view class="demo-row">
					<zx-check-tag 
						:checked="isAllSelected" 
						text="å…¨é€‰" 
						type="primary" 
						@change="handleSelectAll"
					/>
					<button class="demo-btn" @tap="handleClearAll">æ¸…ç©ºé€‰æ‹©</button>
				</view>
				<view class="demo-subtitle">æŠ€èƒ½æ ‡ç­¾ï¼š</view>
				<view class="demo-row wrap">
					<zx-check-tag 
						v-for="skill in skills" 
						:key="skill.id"
						v-model:checked="skill.checked" 
						:text="skill.name" 
						type="info"
						size="small"
					/>
				</view>
			</view>
		</view>

		<!-- äº‹ä»¶ç›‘å¬ -->
		<view class="demo-section">
			<view class="demo-section-title">äº‹ä»¶ç›‘å¬</view>
			<view class="demo-content">
				<zx-check-tag 
					v-model:checked="eventChecked" 
					text="ç›‘å¬äº‹ä»¶" 
					type="warning"
					@change="handleEventChange"
				/>
				<view class="demo-log">
					<text class="demo-log-title">äº‹ä»¶æ—¥å¿—ï¼š</text>
					<view v-for="(log, index) in eventLogs" :key="index" class="demo-log-item">
						<text>{{ log }}</text>
					</view>
				</view>
			</view>
		</view>
	</view>
</template>

<script setup>
import { ref, computed } from 'vue'

// åŸºç¡€ç”¨æ³•
const basicChecked = ref(false)

// ä¸»é¢˜ç±»å‹
const typeChecked = ref({
	primary: true,
	success: false,
	info: true,
	warning: false,
	danger: true
})

// å°ºå¯¸å¤§å°
const sizeChecked = ref({
	small: false,
	default: true,
	large: false
})

// è‡ªå®šä¹‰é¢œè‰²
const customColorChecked = ref({
	red: false,
	purple: true,
	orange: false,
	teal: true
})

// è‡ªå®šä¹‰å†…å®¹
const customContentChecked = ref({
	emoji: false,
	icon: true,
	badge: false
})

// å…´è¶£çˆ±å¥½æ•°æ®
const hobbies = ref([
	{ id: 1, name: 'è¯»ä¹¦', checked: false, type: 'primary' },
	{ id: 2, name: 'è¿åŠ¨', checked: true, type: 'success' },
	{ id: 3, name: 'éŸ³ä¹', checked: false, type: 'info' },
	{ id: 4, name: 'æ—…è¡Œ', checked: true, type: 'warning' },
	{ id: 5, name: 'æ‘„å½±', checked: false, type: 'danger' },
	{ id: 6, name: 'ç¼–ç¨‹', checked: true, type: 'primary' },
	{ id: 7, name: 'ç»˜ç”»', checked: false, type: 'success' },
	{ id: 8, name: 'çƒ¹é¥ª', checked: false, type: 'info' }
])

// æŠ€èƒ½æ ‡ç­¾æ•°æ®
const skills = ref([
	{ id: 1, name: 'Vue.js', checked: false },
	{ id: 2, name: 'JavaScript', checked: true },
	{ id: 3, name: 'TypeScript', checked: false },
	{ id: 4, name: 'Node.js', checked: true },
	{ id: 5, name: 'Python', checked: false },
	{ id: 6, name: 'React', checked: false }
])

// äº‹ä»¶ç›‘å¬
const eventChecked = ref(false)
const eventLogs = ref([])

// è®¡ç®—å·²é€‰æ‹©çš„å…´è¶£çˆ±å¥½
const selectedHobbies = computed(() => {
	return hobbies.value.filter(hobby => hobby.checked).map(hobby => hobby.name)
})

// è®¡ç®—æ˜¯å¦å…¨é€‰
const isAllSelected = computed(() => {
	return skills.value.every(skill => skill.checked)
})

// åŸºç¡€ç”¨æ³•äº‹ä»¶å¤„ç†
const handleBasicChange = (checked) => {
	console.log('åŸºç¡€æ ‡ç­¾çŠ¶æ€æ”¹å˜ï¼š', checked)
}

// å…´è¶£çˆ±å¥½å˜åŒ–å¤„ç†
const handleHobbyChange = (hobby) => {
	console.log(`${hobby.name} çŠ¶æ€æ”¹å˜ï¼š`, hobby.checked)
}

// å…¨é€‰æ“ä½œ
const handleSelectAll = (checked) => {
	skills.value.forEach(skill => {
		skill.checked = checked
	})
}

// æ¸…ç©ºé€‰æ‹©
const handleClearAll = () => {
	skills.value.forEach(skill => {
		skill.checked = false
	})
}

// äº‹ä»¶ç›‘å¬å¤„ç†
const handleEventChange = (checked) => {
	const timestamp = new Date().toLocaleTimeString()
	const log = `${timestamp} - çŠ¶æ€å˜æ›´ä¸ºï¼š${checked ? 'é€‰ä¸­' : 'æœªé€‰ä¸­'}`
	eventLogs.value.unshift(log)
	
	// æœ€å¤šä¿ç•™ 5 æ¡æ—¥å¿—
	if (eventLogs.value.length > 5) {
		eventLogs.value = eventLogs.value.slice(0, 5)
	}
}
</script>

<style lang="scss" scoped>
.demo-page {
	padding: 20px;
	background-color: #f5f5f5;
	min-height: 100vh;
}

.demo-header {
	margin-bottom: 30px;
	text-align: center;
}

.demo-title {
	font-size: 24px;
	font-weight: bold;
	color: #333;
	display: block;
	margin-bottom: 10px;
}

.demo-description {
	font-size: 14px;
	color: #666;
	display: block;
}

.demo-section {
	background-color: #fff;
	margin-bottom: 20px;
	border-radius: 8px;
	overflow: hidden;
	box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.demo-section-title {
	font-size: 16px;
	font-weight: bold;
	color: #333;
	padding: 15px 20px;
	background-color: #fafafa;
	border-bottom: 1px solid #eee;
}

.demo-content {
	padding: 20px;
}

.demo-subtitle {
	font-size: 14px;
	color: #666;
	margin-bottom: 10px;
}

.demo-row {
	display: flex;
	gap: 10px;
	margin-bottom: 15px;
	align-items: center;
	
	&.wrap {
		flex-wrap: wrap;
	}
	
	&:last-child {
		margin-bottom: 0;
	}
}

.demo-result {
	font-size: 14px;
	color: #2979ff;
	background-color: #f0f8ff;
	padding: 8px 12px;
	border-radius: 4px;
	margin-top: 10px;
	display: block;
}

.demo-btn {
	background-color: #ff9900;
	color: #fff;
	border: none;
	border-radius: 4px;
	padding: 6px 12px;
	font-size: 13px;
	cursor: pointer;
}

.custom-content {
	display: flex;
	align-items: center;
	gap: 4px;
}

.emoji {
	font-size: 14px;
}

.icon {
	color: #ffd700;
	font-size: 12px;
}

.badge {
	background-color: #ff4757;
	color: #fff;
	font-size: 10px;
	padding: 1px 4px;
	border-radius: 2px;
	margin-left: 2px;
}

.demo-log {
	margin-top: 15px;
	padding: 10px;
	background-color: #f9f9f9;
	border-radius: 4px;
	border-left: 3px solid #ff9900;
}

.demo-log-title {
	font-size: 13px;
	font-weight: bold;
	color: #333;
	display: block;
	margin-bottom: 8px;
}

.demo-log-item {
	font-size: 12px;
	color: #666;
	margin-bottom: 4px;
	
	&:last-child {
		margin-bottom: 0;
	}
}
</style>
