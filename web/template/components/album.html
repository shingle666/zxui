<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="ZX-Album是一个功能丰富的相册组件，支持单图、多图布局，图片预览，懒加载，删除等功能。">
  <meta name="keywords" content="ZX-Album, 相册组件, Vue3, uni-app, 图片展示, 预览, 懒加载">
  <title>ZX-Album 相册组件 - 功能丰富的图片展示解决方案</title>
  <link rel="stylesheet" href="https://cdn.mp.ac.cn/bulma/css/bulma.min.css">
  <script src="https://cdn.mp.ac.cn/vue/dist/vue.global.prod.js"></script>
  <style>
    .demo-block {
      margin-bottom: 2rem;
      padding: 1.5rem;
      border-radius: 4px;
      border: 1px solid #eee;
    }
    .code-block {
      position: relative;
      margin: 1rem 0;
      background-color: #f5f5f5;
      border-radius: 4px;
      padding: 1rem;
    }
    .tag-margin {
      margin-right: 0.5rem;
      margin-bottom: 0.5rem;
    }
    .table-container {
      overflow-x: auto;
    }
    .album-example {
      margin-bottom: 1rem;
    }
    .album-single {
      width: 360rpx;
      height: 240rpx;
      background-color: #f5f5f5;
      border-radius: 4px;
      display: flex;
      justify-content: center;
      align-items: center;
      margin-bottom: 1rem;
    }
    .album-multiple {
      display: flex;
      flex-wrap: wrap;
      gap: 12rpx;
      margin-bottom: 1rem;
    }
    .album-multiple-item {
      width: 140rpx;
      height: 140rpx;
      background-color: #f5f5f5;
      border-radius: 4px;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .album-loading {
      position: relative;
    }
    .album-loading::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: rgba(0, 0, 0, 0.1);
      border-radius: 4px;
    }
    .album-error {
      position: relative;
    }
    .album-error::after {
      content: '加载失败';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: rgba(0, 0, 0, 0.2);
      color: #fff;
      font-size: 24rpx;
      border-radius: 4px;
    }
    .album-delete {
      position: relative;
    }
    .album-delete::after {
      content: '×';
      position: absolute;
      top: 0;
      right: 0;
      width: 36rpx;
      height: 36rpx;
      background-color: rgba(0, 0, 0, 0.5);
      color: #fff;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 24rpx;
      font-weight: bold;
      line-height: 1;
    }
  </style>
</head>
<body>
  <div id="app">
    <section class="hero is-primary">
      <div class="hero-body">
        <div class="container">
          <h1 class="title">ZX-Album 相册组件</h1>
          <h2 class="subtitle">功能丰富的图片展示组件</h2>
        </div>
      </div>
    </section>

    <section class="section">
      <div class="container">
        <div class="content">
          <h2 id="introduction" class="title is-4">组件介绍</h2>
          <p>ZX-Album是一个功能丰富的图片展示组件，支持单图、多图布局，图片预览，懒加载，删除等功能。通过简单的配置，可以实现各种图片展示效果。</p>
          
          <h2 id="compatibility" class="title is-4">适用范围</h2>
          
          <h3 class="title is-5">框架支持</h3>
          <div class="tags">
            <span class="tag is-success tag-margin">Vue3</span>
          </div>
          
          <h3 class="title is-5">小程序支持</h3>
          <div class="table-container">
            <table class="table is-bordered is-striped is-narrow is-hoverable is-fullwidth">
              <thead>
                <tr>
                  <th>App</th>
                  <th>快应用</th>
                  <th>微信小程序</th>
                  <th>支付宝小程序</th>
                  <th>百度小程序</th>
                  <th>字节小程序</th>
                  <th>QQ小程序</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>√</td>
                  <td>×</td>
                  <td>√</td>
                  <td>√</td>
                  <td>√</td>
                  <td>√</td>
                  <td>√</td>
                </tr>
              </tbody>
            </table>
          </div>
          
          <div class="table-container">
            <table class="table is-bordered is-striped is-narrow is-hoverable is-fullwidth">
              <thead>
                <tr>
                  <th>钉钉小程序</th>
                  <th>快手小程序</th>
                  <th>飞书小程序</th>
                  <th>京东小程序</th>
                  <th>鸿蒙元服务</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>×</td>
                  <td>×</td>
                  <td>×</td>
                  <td>×</td>
                  <td>×</td>
                </tr>
              </tbody>
            </table>
          </div>
          
          <h3 class="title is-5">浏览器支持</h3>
          <div class="table-container">
            <table class="table is-bordered is-striped is-narrow is-hoverable is-fullwidth">
              <thead>
                <tr>
                  <th>H5-Safari</th>
                  <th>Android Browser</th>
                  <th>微信浏览器(Android)</th>
                  <th>QQ浏览器(Android)</th>
                  <th>Chrome</th>
                  <th>IE</th>
                  <th>Edge</th>
                  <th>Firefox</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>√</td>
                  <td>√</td>
                  <td>√</td>
                  <td>√</td>
                  <td>√</td>
                  <td>√</td>
                  <td>√</td>
                  <td>√</td>
                </tr>
              </tbody>
            </table>
          </div>
          
          <h3 class="title is-5">框架兼容性</h3>
          <ul>
            <li>仅支持 Vue 3 框架</li>
            <li>支持 uni-app 使用的 HBuilderX 和 CLI 方式搭建的项目</li>
            <li>支持 vite 和 webpack 构建方式</li>
          </ul>
          
          <h3 class="title is-5">适用场景</h3>
          <ul>
            <li>社交媒体图片展示</li>
            <li>商品图片展示</li>
            <li>相册和图库应用</li>
            <li>与上传组件配合使用的场景</li>
            <li>需要预览图片的场景</li>
            <li>需要删除图片的场景</li>
            <li>需要处理图片加载错误的场景</li>
          </ul>
          
          <h3 class="title is-5">注意事项</h3>
          <ul>
            <li>本组件使用 Vue 3 的 <code>&lt;script setup&gt;</code> 语法开发，不兼容 Vue 2 项目</li>
            <li>在小程序中，需要将网络图片的域名添加到小程序的download域名才可能获取尺寸</li>
            <li>对于单图模式，组件会根据图片原始比例自动调整尺寸</li>
            <li>使用对象数组时，需要指定keyName属性来提取图片地址</li>
            <li>删除功能需要手动处理数组更新</li>
          </ul>
          
          <h2 id="installation" class="title is-4">安装说明</h2>
          
          <h3 class="title is-5">NPM 安装</h3>
          <div class="code-block">
            <pre><code>npm install @tanzhenxing/zx-album</code></pre>
            <pre><code>yarn add @tanzhenxing/zx-album</code></pre>
            <pre><code>pnpm add @tanzhenxing/zx-album</code></pre>
          </div>
          
          <h3 class="title is-5">在项目中使用</h3>
          
          <h4 class="title is-6">全局注册</h4>
          <p>在 <code>main.js</code> 中注册组件：</p>
          <div class="code-block">
            <pre><code>import { createSSRApp } from 'vue'
import App from './App.vue'
import ZxAlbum from '@tanzhenxing/zx-album'

export function createApp() {
  const app = createSSRApp(App)
  app.component('zx-album', ZxAlbum)
  return {
    app
  }
}</code></pre>
          </div>
          
          <h4 class="title is-6">局部注册</h4>
          <p>在需要使用的组件中单独引入：</p>
          <div class="code-block">
            <pre><code>&lt;script setup&gt;
import ZxAlbum from '@tanzhenxing/zx-album';
&lt;/script&gt;

&lt;template&gt;
  &lt;zx-album :urls="urls"&gt;&lt;/zx-album&gt;
&lt;/template&gt;</code></pre>
          </div>
          
          <h4 class="title is-6">easycom 模式（推荐）</h4>
          <p>在 <code>pages.json</code> 中配置 easycom 规则：</p>
          <div class="code-block">
            <pre><code>// pages.json
{
  "easycom": {
    "autoscan": true,
    "custom": {
      "zx-album": "@tanzhenxing/zx-album"
    }
  }
}</code></pre>
          </div>
          
          <p>配置完成后，可以在任意页面直接使用组件，无需额外引入：</p>
          <div class="code-block">
            <pre><code>&lt;template&gt;
  &lt;zx-album :urls="urls"&gt;&lt;/zx-album&gt;
&lt;/template&gt;</code></pre>
          </div>
          
          <h2 id="usage" class="title is-4">基础用法</h2>
          <div class="code-block">
            <pre><code>&lt;zx-album :urls="urls"&gt;&lt;/zx-album&gt;</code></pre>
          </div>
          
          <h2 id="props" class="title is-4">组件属性</h2>
          <div class="table-container">
            <table class="table is-bordered is-striped is-narrow is-hoverable is-fullwidth">
              <thead>
                <tr>
                  <th>属性名</th>
                  <th>类型</th>
                  <th>默认值</th>
                  <th>说明</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>urls</td>
                  <td>Array</td>
                  <td>[]</td>
                  <td>图片地址列表</td>
                </tr>
                <tr>
                  <td>keyName</td>
                  <td>String</td>
                  <td>''</td>
                  <td>指定从对象数组中读取的图片地址属性名</td>
                </tr>
                <tr>
                  <td>singleSize</td>
                  <td>String/Number</td>
                  <td>'360rpx'</td>
                  <td>单图时，图片长边的长度</td>
                </tr>
                <tr>
                  <td>multipleSize</td>
                  <td>String/Number</td>
                  <td>'140rpx'</td>
                  <td>多图时，图片边长</td>
                </tr>
                <tr>
                  <td>space</td>
                  <td>String/Number</td>
                  <td>'12rpx'</td>
                  <td>多图时，图片间隔</td>
                </tr>
                <tr>
                  <td>singleMode</td>
                  <td>String</td>
                  <td>'scaleToFill'</td>
                  <td>单图时，图片缩放裁剪模式</td>
                </tr>
                <tr>
                  <td>multipleMode</td>
                  <td>String</td>
                  <td>'aspectFill'</td>
                  <td>多图时，图片缩放裁剪模式</td>
                </tr>
                <tr>
                  <td>maxCount</td>
                  <td>String/Number</td>
                  <td>9</td>
                  <td>最多展示图片数量</td>
                </tr>
                <tr>
                  <td>previewFullImage</td>
                  <td>Boolean</td>
                  <td>true</td>
                  <td>是否可以预览图片</td>
                </tr>
                <tr>
                  <td>rowCount</td>
                  <td>String/Number</td>
                  <td>3</td>
                  <td>每行展示图片数量</td>
                </tr>
                <tr>
                  <td>showMore</td>
                  <td>Boolean</td>
                  <td>true</td>
                  <td>超出maxCount时是否显示查看更多提示</td>
                </tr>
                <tr>
                  <td>deletable</td>
                  <td>Boolean</td>
                  <td>false</td>
                  <td>是否可以删除图片</td>
                </tr>
                <tr>
                  <td>lazyLoad</td>
                  <td>Boolean</td>
                  <td>true</td>
                  <td>是否开启图片懒加载</td>
                </tr>
                <tr>
                  <td>loading</td>
                  <td>Boolean</td>
                  <td>false</td>
                  <td>是否显示加载状态</td>
                </tr>
                <tr>
                  <td>showError</td>
                  <td>Boolean</td>
                  <td>true</td>
                  <td>是否显示加载失败提示</td>
                </tr>
                <tr>
                  <td>showEmpty</td>
                  <td>Boolean</td>
                  <td>true</td>
                  <td>是否显示空状态提示</td>
                </tr>
                <tr>
                  <td>emptyText</td>
                  <td>String</td>
                  <td>'暂无图片'</td>
                  <td>空状态提示文字</td>
                </tr>
              </tbody>
            </table>
          </div>
          
          <h2 id="events" class="title is-4">事件</h2>
          <div class="table-container">
            <table class="table is-bordered is-striped is-narrow is-hoverable is-fullwidth">
              <thead>
                <tr>
                  <th>事件名</th>
                  <th>说明</th>
                  <th>回调参数</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>albumWidth</td>
                  <td>当相册宽度变化时触发</td>
                  <td>width: 相册宽度</td>
                </tr>
                <tr>
                  <td>delete</td>
                  <td>删除图片时触发</td>
                  <td>index: 被删除图片的索引</td>
                </tr>
                <tr>
                  <td>error</td>
                  <td>图片加载失败时触发</td>
                  <td>{rowIndex, colIndex, src}: 行索引、列索引和图片地址</td>
                </tr>
              </tbody>
            </table>
          </div>
          
          <h2 id="examples" class="title is-4">使用示例</h2>
          
          <h3 class="title is-5">基础用法</h3>
          <p>最基本的用法是传入一个图片地址数组：</p>
          <div class="demo-block">
            <div class="album-example">
              <div class="album-multiple">
                <div class="album-multiple-item"></div>
                <div class="album-multiple-item"></div>
                <div class="album-multiple-item"></div>
              </div>
            </div>
          </div>
          <div class="code-block">
            <pre><code>&lt;template&gt;
  &lt;zx-album :urls="urls"&gt;&lt;/zx-album&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref } from 'vue';

const urls = ref([
  'https://cdn.mp.ac.cn/banner/01.jpg',
  'https://cdn.mp.ac.cn/banner/02.jpg',
  'https://cdn.mp.ac.cn/banner/03.jpg'
]);
&lt;/script&gt;</code></pre>
          </div>
          
          <h3 class="title is-5">单图模式</h3>
          <p>只传入一张图片时，自动进入单图模式，会根据图片比例自动调整尺寸：</p>
          <div class="demo-block">
            <div class="album-example">
              <div class="album-single"></div>
            </div>
          </div>
          <div class="code-block">
            <pre><code>&lt;template&gt;
  &lt;zx-album :urls="[url]" singleSize="360rpx"&gt;&lt;/zx-album&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref } from 'vue';

const url = ref('https://cdn.mp.ac.cn/banner/01.jpg');
&lt;/script&gt;</code></pre>
          </div>
          
          <h3 class="title is-5">自定义大小和间距</h3>
          <p>通过设置 multipleSize 和 space 属性，可以自定义图片尺寸和间距：</p>
          <div class="code-block">
            <pre><code>&lt;template&gt;
  &lt;zx-album 
    :urls="urls" 
    singleSize="400rpx" 
    multipleSize="120rpx"
    space="10rpx"
  &gt;&lt;/zx-album&gt;
&lt;/template&gt;</code></pre>
          </div>
          
          <h3 class="title is-5">可删除的相册</h3>
          <p>通过设置 deletable 属性，开启图片删除功能：</p>
          <div class="demo-block">
            <div class="album-example">
              <div class="album-multiple">
                <div class="album-multiple-item album-delete"></div>
                <div class="album-multiple-item album-delete"></div>
                <div class="album-multiple-item album-delete"></div>
              </div>
            </div>
          </div>
          <div class="code-block">
            <pre><code>&lt;template&gt;
  &lt;zx-album 
    :urls="urls" 
    :deletable="true"
    @delete="onDelete"
  &gt;&lt;/zx-album&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref } from 'vue';

const urls = ref([
  'https://cdn.mp.ac.cn/banner/01.jpg',
  'https://cdn.mp.ac.cn/banner/02.jpg',
  'https://cdn.mp.ac.cn/banner/03.jpg'
]);

const onDelete = (index) => {
  urls.value.splice(index, 1);
};
&lt;/script&gt;</code></pre>
          </div>
          
          <h3 class="title is-5">加载状态和错误处理</h3>
          <p>组件支持加载状态显示和错误处理：</p>
          <div class="demo-block">
            <div class="album-example">
              <div class="album-multiple">
                <div class="album-multiple-item"></div>
                <div class="album-multiple-item album-loading"></div>
                <div class="album-multiple-item album-error"></div>
              </div>
            </div>
          </div>
          <div class="code-block">
            <pre><code>&lt;template&gt;
  &lt;zx-album 
    :urls="urls" 
    :loading="true"
    :showError="true"
    @error="onError"
  &gt;&lt;/zx-album&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref } from 'vue';

const urls = ref([
  'https://cdn.mp.ac.cn/banner/01.jpg',
  'https://cdn.mp.ac.cn/banner/02.jpg',
  'https://error-url.jpg' // 错误的URL
]);

const onError = ({rowIndex, colIndex, src}) => {
  console.log(`图片加载失败: ${src}`);
};
&lt;/script&gt;</code></pre>
          </div>
          
          <h3 class="title is-5">配合上传组件使用</h3>
          <p>相册组件可以与上传组件结合使用，实现图片上传和预览功能：</p>
          <div class="code-block">
            <pre><code>&lt;template&gt;
  &lt;zx-album 
    :urls="images" 
    :deletable="true"
    @delete="onDelete"
  &gt;&lt;/zx-album&gt;
  &lt;zx-upload 
    :fileList="images" 
    @afterRead="afterRead" 
    :maxCount="9"
  &gt;&lt;/zx-upload&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref } from 'vue';

const images = ref([]);

const afterRead = (event) => {
  const { file } = event;
  // 此处省略上传逻辑
  images.value.push(file.url);
};

const onDelete = (index) => {
  images.value.splice(index, 1);
};
&lt;/script&gt;</code></pre>
          </div>
          
          <h3 class="title is-5">使用对象数组</h3>
          <p>当图片数据以对象形式存储时，可以通过 keyName 属性指定图片地址字段：</p>
          <div class="code-block">
            <pre><code>&lt;template&gt;
  &lt;zx-album 
    :urls="images" 
    keyName="url"
  &gt;&lt;/zx-album&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref } from 'vue';

const images = ref([
  { url: 'https://cdn.mp.ac.cn/banner/01.jpg', id: '1' },
  { url: 'https://cdn.mp.ac.cn/banner/02.jpg', id: '2' },
  { url: 'https://cdn.mp.ac.cn/banner/03.jpg', id: '3' }
]);
&lt;/script&gt;</code></pre>
          </div>

          <h3 class="title is-5">自定义每行图片数量</h3>
          <p>通过 rowCount 属性可以自定义每行显示的图片数量：</p>
          <div class="demo-block">
            <div class="album-example">
              <div class="album-multiple" style="gap: 12rpx;">
                <div class="album-multiple-item"></div>
                <div class="album-multiple-item"></div>
                <div class="album-multiple-item"></div>
                <div class="album-multiple-item"></div>
              </div>
            </div>
          </div>
          <div class="code-block">
            <pre><code>&lt;template&gt;
  &lt;zx-album 
    :urls="urls" 
    :rowCount="4"
  &gt;&lt;/zx-album&gt;
&lt;/template&gt;</code></pre>
          </div>
          
          <h2 id="notes" class="title is-4">注意事项</h2>
          <ol>
            <li>在小程序中，需要将网络图片的域名添加到小程序的download域名才可能获取尺寸</li>
            <li>对于单图模式，组件会根据图片原始比例自动调整尺寸</li>
            <li>使用对象数组时，需要指定keyName属性来提取图片地址</li>
            <li>删除功能需要手动处理数组更新，组件只会触发delete事件</li>
            <li>图片加载失败时，需要处理error事件并提供适当的错误处理</li>
            <li>懒加载功能可以优化性能，特别是在长列表中使用时</li>
            <li>多图布局时，建议设置合适的multipleSize和space值以获得最佳显示效果</li>
          </ol>
        </div>
      </div>
    </section>

    <footer class="footer">
      <div class="content has-text-centered">
        <p>
          <strong>ZX-Album</strong> 相册组件 by <a href="https://zxui.org">tanzhenxing</a>
        </p>
      </div>
    </footer>
  </div>

  <script>
    const App = {
      setup() {
        return {}
      }
    }
    Vue.createApp(App).mount('#app')
  </script>
</body>
</html>